{
  "version": 3,
  "sources": ["../../../src/pages/forum-thread.ts"],
  "sourcesContent": ["import { extLogger } from \"../logger\"\nimport { settings } from \"../storage\"\nimport { initTinyMcePlugins } from \"../utils/initTinyMcePlugins\"\n\nconst log = new extLogger(\"pages/forum-thread.ts\")\n\nexport default async function () {\n\t// \u041F\u043E\u043B\u043D\u043E\u0441\u0442\u044C\u044E \u0441\u043A\u0440\u044B\u0442\u044C \u0438\u0433\u043D\u043E\u0440\u0438\u0440\u0443\u0435\u043C\u044B\u0445\n\tif (settings.hideForumMessages) {\n\t\tdocument.querySelectorAll(\".ignored\").forEach(el => {\n\t\t\tel.remove()\n\t\t})\n\t}\n\n\tinitTinyMcePlugins()\n\n\tfor (const tab of Array.from(document.querySelectorAll(\".message-tab\"))) {\n\t\t// const userPanel = tab.querySelector(\".theme-user-block\")\n\t\t// const userLink = userPanel?.querySelector(\".forum-theme__item-name a\")\n\t\t// const userId = parseInt(userLink?.getAttribute(\"href\")?.match(/\\.(\\d+)\\//)?.[1] || \"0\")\n\t\t// const userAvatarImg = userPanel?.querySelector(\".forum-theme__item-avatar img\")\n\t\t// const userInfo = await getOrUpdateUserInfo(userId)\n\t\t// const message = tab.querySelector(\"blockquote\")\n\t\t// const messageId = parseInt(\n\t\t// \ttab.querySelector(\".forum-theme__item\")?.getAttribute(\"data-id\") || \"0\"\n\t\t// )\n\t\t// if (settings.showForumTopicCaptions && userInfo.signature && message?.parentElement) {\n\t\t// \tconst blockquote = document.createElement(\"blockquote\")\n\t\t// \tblockquote.classList.add(\"signature\")\n\t\t// \tblockquote.innerHTML = userInfo.signature\n\t\t// \tmessage.parentElement.appendChild(blockquote)\n\t\t// \tconst contentHeight = blockquote.scrollHeight\n\t\t// \tconst maxVisibleHeight = 200\n\t\t// \tif (contentHeight < maxVisibleHeight) {\n\t\t// \t\tblockquote.classList.add(\"open\")\n\t\t// \t}\n\t\t// \tblockquote.addEventListener(\"click\", async () => {\n\t\t// \t\tif (!blockquote.classList.contains(\"open\")) {\n\t\t// \t\t\tblockquote.classList.add(\"open\")\n\t\t// \t\t}\n\t\t// \t})\n\t\t// }\n\t\t// if (settings.followersFrame && userInfo.relationType === \"subscriber\") {\n\t\t//     (config.oldDesign ? userPanel : userAvatarImg)?.classList.add(\"user-followed\");\n\t\t// }\n\t\t// if (config.ignoredByFrame && userInfo.relationType === \"ignored\") {\n\t\t//     (config.oldDesign ? userPanel : userAvatarImg)?.classList.add(\"user-ignored\");\n\t\t// }\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;;AAIA,IAAM,MAAM,IAAI,UAAU,uBAAuB;AAEjD,eAAO,uBAA0B;AAEhC,MAAI,SAAS,mBAAmB;AAC/B,aAAS,iBAAiB,UAAU,EAAE,QAAQ,QAAM;AACnD,SAAG,OAAO;AAAA,IACX,CAAC;AAAA,EACF;AAEA,qBAAmB;AAEnB,aAAW,OAAO,MAAM,KAAK,SAAS,iBAAiB,cAAc,CAAC,GAAG;AAAA,EAgCzE;AACD;",
  "names": []
}
